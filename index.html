<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>SAMMY TOWING INC â€” Nexus Transport Manager</title>

  <link rel="stylesheet" href="styles.css"/>

  <!-- Firebase (por compatibilidad futura) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>

  <!-- ===== TOPBAR ===== -->
  <header class="topbar" id="topbar">
    <div class="brand">
      <div class="logo">ST</div>
      <div class="title">SAMMY TOWING INC</div>
    </div>
    <button id="logoutBtn">Salir</button>
  </header>

  <!-- ===== NAVIGATION ===== -->
  <nav class="tabs">
    <button data-tab="proveedores">Proveedores</button>
    <button data-tab="choferes">Choferes</button>
    <button data-tab="millas">Millas Recorridas</button>
    <button data-tab="cierres">Cierre Semanal</button>
    <button data-tab="flujo">Flujo de Caja</button>
    <button data-tab="config">ConfiguraciÃ³n</button>
  </nav>

  <!-- ===== MAIN ===== -->
  <main>

    <!-- ========== PROVEEDORES ========== -->
    <section id="proveedores" class="tab">
      <h2>GestiÃ³n de Proveedores</h2>
      <form id="formProveedor">
        <input id="provNombre" placeholder="Nombre del proveedor" required>
        <input id="provPorc" type="number" step="0.01" placeholder="% DeducciÃ³n" required>
        <button type="submit">AÃ±adir</button>
      </form>
      <table id="tablaProveedores"></table>
    </section>

    <!-- ========== CHOFERES ========== -->
    <section id="choferes" class="tab hidden">
      <h2>GestiÃ³n de Choferes</h2>
      <form id="formChofer">
        <input id="chNombre" placeholder="Nombre del chofer" required>
        <input id="chGanancia" type="number" step="0.01" placeholder="% Ganancia" required>
        <input id="chDeduccion" type="number" step="0.01" placeholder="% DeducciÃ³n" required>
        <button type="submit">AÃ±adir</button>
      </form>
      <table id="tablaChoferes"></table>
    </section>

    <!-- ========== MILLAS ========== -->
    <section id="millas" class="tab hidden">
      <h2>Registro de Millas Recorridas</h2>

      <!-- KPIs GLASS RED -->
      <div id="millasKPI" class="kpi">
        <div class="kpiCard glass" id="kpiMillas">
          <h3>ðŸ§­ Total Millas</h3>
          <p>0</p>
        </div>
        <div class="kpiCard glass" id="kpiServicios">
          <h3>ðŸ“‹ Servicios</h3>
          <p>0</p>
        </div>
        <div class="kpiCard glass" id="kpiValor">
          <h3>ðŸ’µ Valor Total</h3>
          <p>$0.00</p>
        </div>
      </div>

      <!-- FILTROS -->
      <div id="filtrosMillas" class="filters">
        <select id="filtroChofer">
          <option value="">Filtrar por Chofer</option>
        </select>
        <select id="filtroProveedor">
          <option value="">Filtrar por Proveedor</option>
        </select>
        <button id="btnMostrarTodo">Mostrar Todo</button>
      </div>

      <!-- FORMULARIO -->
      <form id="formMillas">
        <input id="mChofer" placeholder="Chofer" required>
        <input id="mProveedor" placeholder="Proveedor" required>
        <input id="mMillas" type="number" placeholder="Millas recorridas" required>
        <button type="submit">AÃ±adir</button>
      </form>

      <!-- TABLA -->
      <table id="tablaMillas"></table>
    </section>

    <!-- ========== CIERRE SEMANAL ========== -->
    <section id="cierres" class="tab hidden">
      <h2>Cierre Semanal</h2>
      <div id="tablaCierres"></div>
      <button id="pdfCierre" class="pdf">Exportar Cierre PDF</button>
    </section>

    <!-- ========== FLUJO DE CAJA ========== -->
    <section id="flujo" class="tab hidden">
      <h2>Flujo de Caja Semanal</h2>
      <div id="tablaFlujo"></div>
    </section>

    <!-- ========== CONFIGURACIÃ“N ========== -->
    <section id="config" class="tab hidden">
      <h2>ConfiguraciÃ³n General</h2>

      <div class="configBox">
        <label>Logo del Negocio:</label>
        <input id="logoInput" type="file" accept="image/png,image/jpeg">

        <label>PIN de Seguridad:</label>
        <input id="pinInput" type="password" placeholder="****">

        <label>Valor por milla ($):</label>
        <input id="valorMillaInput" type="number" step="0.01" placeholder="1.00">

        <label>Umbral Alto ($):</label>
        <input id="umbralAlto" type="number" step="0.01" placeholder="1000">

        <label>Umbral Medio ($):</label>
        <input id="umbralMedio" type="number" step="0.01" placeholder="400">

        <button id="saveConfig">Guardar ConfiguraciÃ³n</button>
        <button id="backupAll">Backup General</button>
      </div>
    </section>

  </main>

  <script src="app.js"></script>
</body>
</html>
